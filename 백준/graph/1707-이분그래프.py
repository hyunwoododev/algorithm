"""
1707ë²ˆ ë¬¸ì œ

ê·¸ë˜í”„ì˜ ì •ì ì˜ ì§‘í•©ì„ ë‘˜ë¡œ ë¶„í• í•˜ì—¬, ê° ì§‘í•©ì— ì†í•œ ì •ì ë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•˜ì§€ ì•Šë„ë¡ ë¶„í• í•  ìˆ˜ ìˆì„ ë•Œ, 
ê·¸ëŸ¬í•œ ê·¸ë˜í”„ë¥¼ íŠ¹ë³„íˆ ì´ë¶„ ê·¸ë˜í”„ (Bipartite Graph) ë¼ ë¶€ë¥¸ë‹¤.
ê·¸ë˜í”„ê°€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ë°, ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ Kê°€ ì£¼ì–´ì§„ë‹¤. 
ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ê·¸ë˜í”„ì˜ ì •ì ì˜ ê°œìˆ˜ Vì™€ ê°„ì„ ì˜ ê°œìˆ˜ Eê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. 
ê° ì •ì ì—ëŠ” 1ë¶€í„° Vê¹Œì§€ ì°¨ë¡€ë¡œ ë²ˆí˜¸ê°€ ë¶™ì–´ ìˆë‹¤. ì´ì–´ì„œ ë‘˜ì§¸ ì¤„ë¶€í„° Eê°œì˜ ì¤„ì— ê±¸ì³ ê°„ì„ ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ì–´ì§€ëŠ”ë°, 
ê° ì¤„ì— ì¸ì ‘í•œ ë‘ ì •ì ì˜ ë²ˆí˜¸ u, v (u â‰  v)ê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤. 

Kê°œì˜ ì¤„ì— ê±¸ì³ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì´ë©´ YES, ì•„ë‹ˆë©´ NOë¥¼ ìˆœì„œëŒ€ë¡œ ì¶œë ¥í•œë‹¤.

í˜„ìš° í•´ì„ :
-> ë¬´ì—‡ë³´ë‹¤ í…ŒìŠ¤í¬ ê°¯ìˆ˜ê°€ ì—¬ëŸ¬ê°œì¸ ì¼€ì´ìŠ¤
-> ê°„ì„ ì´ ì •í•´ì§„ ì¼€ì´ìŠ¤
-> ì´ë¶„ ê·¸ë˜í”„ì¸ì§€ ì¦ëª…í•˜ê¸° ìœ„í•´ì„œëŠ” DFSë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.
-> ì •ì ë²ˆí˜¸ì˜ ì‹œì‘ì´ 0ì´ ì•„ë‹Œ 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ìš°ì— í•´ë‹¹.ğŸ˜£ğŸ˜£ğŸ˜£ğŸ˜£
-> visitedë¥¼ booleanì´ ì•„ë‹Œ ì–´ë–¤ ê°’ì„ ë‹´ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ì¼€ì´ìŠ¤ ğŸ˜£ğŸ˜£ğŸ˜£ğŸ˜£
-> ê·¸ëƒ¥ ê°œë§ì´ í’€ì–´ë´ì•¼í• ë“¯
"""
import sys
sys.setrecursionlimit(10**6)
input = sys.stdin.readline

k = int(input())
def DFS(start, visited, graph, group):
    visited[start] = group  # í˜„ì¬ ë…¸ë“œì˜ ê·¸ë£¹ ì €ì¥
    # ì¸ì ‘ ë…¸ë“œ íƒìƒ‰
    for v in graph[start]:
        if visited[v] == 0:  # ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ
            # -group : í˜„ì¬ ë…¸ë“œì˜ ê·¸ë£¹ê³¼ ë‹¤ë¥¸ ê°’ ì „ë‹¬
            result = DFS(v, visited, graph, -group)
            if not result:
                return False
        else:
            if visited[v] == group:  # ì´ë¯¸ ë°©ë¬¸í•œ ê³³ ì¤‘ì—ì„œ ë…¸ë“œê°€ í˜„ì¬ ê·¸ë£¹ê³¼ ê°™ìœ¼ë©´ ì´ë¶„ ê·¸ë˜í”„ê°€ ì•„ë‹˜
                return False
    return True

for _ in range(k):
    # graph ìƒì„±
    V, E = map(int, input().split())
    graph = [[] for _ in range(V+1)]
    visited = [0] * (V+1)
    
    # ê·¸ë˜í”„ë¥¼ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    for _ in range(E):
        a, b = map(int, input().split())
        graph[a].append(b)
        graph[b].append(a)

    for i in range(1, V+1):
        if visited[i] == 0:
            result = (DFS(i, visited, graph, 1))
            if not result: # ì´ê²Œ ì •ë§ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë‹¤. forë¬¸ì„ ëŒë©´ì„œ í•˜ë‚˜ë¼ë„ Falseê°€ ë‚˜ì˜¤ë©´ ë°”ë¡œ NOë¥¼ ì¶œë ¥í•´ì•¼í•œë‹¤.
                break
            
    print("YES") if result else print("NO")

        
    
        
    